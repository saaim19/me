<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mohd Saaim Siddiqui | Interactive Portfolio</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Rajdhani:wght@400;600;700&family=JetBrains+Mono:wght@400&display=swap');

        body {
            margin: 0;
            overflow: hidden;
            background-color: #000;
            font-family: 'Rajdhani', sans-serif;
            color: white;
            user-select: none; /* Prevent text selection on drag */
        }

        /* --- UI LAYOUT --- */
        #ui-layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 10;
        }

        /* Top Bar */
        #header {
            position: absolute;
            top: 30px;
            left: 40px;
            pointer-events: auto;
        }

        h1 {
            font-size: 2.5rem;
            margin: 0;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 2px;
            background: linear-gradient(90deg, #fff, #00ffff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .subtitle {
            font-family: 'JetBrains Mono', monospace;
            color: #00ffff;
            font-size: 0.9rem;
            margin-top: 5px;
            opacity: 0.8;
        }

        /* Content Panel (Slide in) */
        #content-panel {
            position: absolute;
            top: 0;
            right: 0;
            width: 450px;
            height: 100vh;
            background: rgba(10, 10, 15, 0.9);
            backdrop-filter: blur(15px);
            border-left: 1px solid rgba(0, 255, 255, 0.3);
            transform: translateX(100%);
            transition: transform 0.6s cubic-bezier(0.19, 1, 0.22, 1);
            pointer-events: auto;
            display: flex;
            flex-direction: column;
            padding: 50px;
            box-sizing: border-box;
            overflow-y: auto;
            box-shadow: -20px 0 50px rgba(0,0,0,0.8);
        }

        #content-panel.active {
            transform: translateX(0);
        }

        .panel-header {
            font-size: 2rem;
            color: #00ffff;
            border-bottom: 2px solid #00ffff;
            padding-bottom: 15px;
            margin-bottom: 30px;
            text-shadow: 0 0 10px rgba(0,255,255,0.5);
            text-transform: uppercase;
        }

        .section-block h3 {
            color: #ff00ff;
            font-size: 1.2rem;
            margin-bottom: 5px;
            margin-top: 25px;
        }

        .section-block h4 {
            font-family: 'JetBrains Mono', monospace;
            color: #fff;
            font-size: 0.9rem;
            margin: 0 0 10px 0;
            opacity: 0.7;
        }

        .section-block p, .section-block li {
            font-family: 'Rajdhani', sans-serif;
            font-size: 1.1rem;
            line-height: 1.5;
            color: #d0d0d0;
            margin-bottom: 10px;
        }

        .close-btn {
            position: absolute;
            top: 20px;
            left: 20px;
            background: none;
            border: none;
            color: rgba(255,255,255,0.5);
            font-size: 1.5rem;
            cursor: pointer;
            transition: color 0.3s;
        }
        .close-btn:hover { color: #fff; }
        
        /* Loading overlay */
        #loader {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            color: #00ffff;
            font-family: 'JetBrains Mono', monospace;
            animation: blink 1s infinite;
        }
        @keyframes blink { 50% { opacity: 0; } }

    </style>
</head>
<body>

    <div id="loader">INITIALIZING SYSTEM...</div>

    <div id="ui-layer">
        <div id="header">
            <h1>Mohd Saaim Siddiqui</h1>
            <div class="subtitle">&lt;Backend Developer /&gt; Java &bull; Spring Boot &bull; Microservices</div>
        </div>

        <div id="content-panel">
            <button class="close-btn" onclick="closePanel()">&times;</button>
            <div id="panel-body"></div>
        </div>
    </div>

    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/"
            }
        }
    </script>

    <script type="module">
        import * as THREE from 'three';

        // --- RESUME DATA ---
        const resumeContent = {
            "summary": {
                title: "Summary Profile",
                html: `
                    <div class="section-block">
                        <p>Backend Developer with <strong>3+ years of experience</strong> building scalable systems.</p>
                        <p>Specialized in <strong>Java, Spring Boot, Microservices</strong>, and high-performance SQL/NoSQL database architectures.</p>
                        <p>Proven track record of optimizing API response times (sub-1 second) and handling massive data flows.</p>
                    </div>`
            },
            "skills": {
                title: "Technical Stack",
                html: `
                    <div class="section-block">
                        <h3>Languages</h3><p>Java (Core & Advanced), Python</p>
                        <h3>Frameworks</h3><p>Spring Boot, Hibernate (JPA), Microservices</p>
                        <h3>Databases</h3><p>PostgreSQL, Aerospike, Elasticsearch, AWS S3</p>
                        <h3>DevOps & Tools</h3><p>Docker, Jenkins, Git, Jira, Gradle, ELK Stack</p>
                    </div>`
            },
            "experience": {
                title: "Work Experience",
                html: `
                    <div class="section-block">
                        <h3>Tripjack - SDE 2</h3><h4>April 2024 - Present</h4>
                        <ul>
                            <li>Revamped Hotel Search API: <strong>< 1s response</strong> using Multithreading & Caching.</li>
                            <li>Built Transaction Report Module: <strong>98% financial accuracy</strong>.</li>
                            <li>Designed scalable rebooking architecture boosting profit by <strong>40%</strong>.</li>
                        </ul>
                        <h3>Tripjack - SDE 1</h3><h4>July 2022 - March 2024</h4>
                        <ul>
                            <li>Optimized DB queries reducing retrieval time by <strong>20%</strong>.</li>
                            <li>Architected Virtual Point Currency System.</li>
                        </ul>
                    </div>`
            },
            "projects": {
                title: "Projects & Education",
                html: `
                    <div class="section-block">
                        <h3>E-Commerce Platform</h3>
                        <p>Full-stack Spring Boot application with product catalog, cart, and order management. Achieved <strong>85%+ test coverage</strong>.</p>
                        <h3>Education</h3>
                        <p><strong>MCA</strong> - Bharati Vidyapeeth (96.1%)</p>
                        <p><strong>B.Sc (Hons) CS</strong> - Bhaskaracharya College (74.2%)</p>
                    </div>`
            }
        };

        // --- 1. SCENE SETUP ---
        const scene = new THREE.Scene();
        scene.fog = new THREE.FogExp2(0x000000, 0.002);

        const camera = new THREE.PerspectiveCamera(70, window.innerWidth / window.innerHeight, 1, 1000);
        camera.position.z = 110;

        const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(window.devicePixelRatio);
        document.body.appendChild(renderer.domElement);

        document.getElementById('loader').style.display = 'none';

        // --- 2. TEXT TEXTURE GENERATOR ---
        function createTextSprite(text, colorStr) {
            const canvas = document.createElement('canvas');
            canvas.width = 512;
            canvas.height = 128;
            const ctx = canvas.getContext('2d');
            
            // Text styling
            ctx.font = 'bold 50px "Rajdhani"'; 
            ctx.fillStyle = colorStr;
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            
            // Glow effect on text
            ctx.shadowColor = colorStr;
            ctx.shadowBlur = 20;
            
            ctx.fillText(text.toUpperCase(), 256, 64);

            const texture = new THREE.CanvasTexture(canvas);
            const material = new THREE.SpriteMaterial({ 
                map: texture, 
                transparent: true,
                depthTest: false, // Always show on top of stars
                opacity: 0.9
            });
            
            const sprite = new THREE.Sprite(material);
            sprite.scale.set(40, 10, 1);
            return sprite;
        }

        // --- 3. BACKGROUND PARTICLES (Starfield) ---
        const pGeo = new THREE.BufferGeometry();
        const count = 4000;
        const pos = new Float32Array(count * 3);
        const vel = [];
        
        for(let i=0; i<count; i++) {
            pos[i*3] = (Math.random() - 0.5) * 800;
            pos[i*3+1] = (Math.random() - 0.5) * 800;
            pos[i*3+2] = (Math.random() - 0.5) * 800;
            vel.push({
                x: (Math.random()-0.5)*0.1, 
                y: (Math.random()-0.5)*0.1, 
                z: (Math.random()-0.5)*0.1
            });
        }
        pGeo.setAttribute('position', new THREE.BufferAttribute(pos, 3));
        const pMat = new THREE.PointsMaterial({ size: 2, color: 0x44aaaa, transparent: true, opacity: 0.6 });
        const starField = new THREE.Points(pGeo, pMat);
        scene.add(starField);


        // --- 4. ARTIFACTS (Shape + Text) ---
        const objectsToCheck = []; // For Raycasting
        const animatables = []; // For animation loop

        function createArtifact(id, label, colorHex, colorStr, type, position) {
            const group = new THREE.Group();
            group.position.copy(position);
            scene.add(group);

            // 1. The Geometry
            let geo;
            if(type === 'icosa') geo = new THREE.IcosahedronGeometry(9, 0);
            if(type === 'torus') geo = new THREE.TorusKnotGeometry(5, 1.5, 64, 8);
            if(type === 'octa') geo = new THREE.OctahedronGeometry(9, 0);
            if(type === 'tetra') geo = new THREE.TetrahedronGeometry(9, 0);

            const mat = new THREE.MeshBasicMaterial({ color: colorHex, wireframe: true, transparent: true, opacity: 0.4 });
            const mesh = new THREE.Mesh(geo, mat);
            
            // Inner Core
            const coreMat = new THREE.MeshBasicMaterial({ color: colorHex, transparent: true, opacity: 0.1 });
            const core = new THREE.Mesh(geo, coreMat);
            core.scale.setScalar(0.9);
            mesh.add(core);

            // Add mesh to group
            group.add(mesh);

            // 2. The Text Label (Sprite)
            const sprite = createTextSprite(label, colorStr);
            sprite.position.y = 14; // Float above the shape
            group.add(sprite);

            // 3. Connecting Line (to center or void)
            const lineMat = new THREE.LineBasicMaterial({ color: colorHex, transparent: true, opacity: 0.1 });
            const linePoints = [new THREE.Vector3(0,0,0), position];
            const lineGeo = new THREE.BufferGeometry().setFromPoints(linePoints);
            const line = new THREE.Line(lineGeo, lineMat);
            scene.add(line);

            // Store references
            mesh.userData = { id: id, parentGroup: group };
            objectsToCheck.push(mesh);
            animatables.push({ mesh: mesh, group: group, speed: Math.random() * 0.02 + 0.01 });
        }

        // --- CREATE NODES ---
        // Center
        createArtifact('summary', 'Summary', 0x00ffff, '#00ffff', 'icosa', new THREE.Vector3(0, 10, 0));
        // Right
        createArtifact('skills', 'Skills', 0xff00ff, '#ff00ff', 'torus', new THREE.Vector3(50, -15, 20));
        // Left
        createArtifact('experience', 'Experience', 0xffff00, '#ffff00', 'octa', new THREE.Vector3(-50, -15, 20));
        // Bottom
        createArtifact('projects', 'Projects', 0x00ff00, '#00ff00', 'tetra', new THREE.Vector3(0, -40, 40));


        // --- 5. INTERACTION ---
        const raycaster = new THREE.Raycaster();
        const mouse = new THREE.Vector2();
        
        // Lighting
        const light = new THREE.PointLight(0xffffff, 2, 200);
        scene.add(light);

        let targetCamPos = new THREE.Vector3(0, 0, 110);
        let lookAtTarget = new THREE.Vector3(0, 0, 0);

        function onMouseMove(e) {
            mouse.x = (e.clientX / window.innerWidth) * 2 - 1;
            mouse.y = -(e.clientY / window.innerHeight) * 2 + 1;
            
            // Light follows mouse
            light.position.x = mouse.x * 80;
            light.position.y = mouse.y * 80;
            light.position.z = 50;
        }

        function onClick() {
            if(document.getElementById('content-panel').classList.contains('active')) return;

            raycaster.setFromCamera(mouse, camera);
            const intersects = raycaster.intersectObjects(objectsToCheck);

            if (intersects.length > 0) {
                const obj = intersects[0].object;
                const id = obj.userData.id;
                const groupPos = obj.userData.parentGroup.position;

                openPanel(id);

                // Zoom camera to slightly offset from object
                const offset = groupPos.clone().normalize().multiplyScalar(30); 
                targetCamPos = groupPos.clone().add(offset);
                lookAtTarget = groupPos.clone();
            }
        }

        window.addEventListener('mousemove', onMouseMove);
        window.addEventListener('click', onClick);
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

        // --- 6. LOOP ---
        const clock = new THREE.Clock();

        function animate() {
            requestAnimationFrame(animate);
            const time = clock.getElapsedTime();

            // Background Particles
            const posAttr = starField.geometry.attributes.position;
            const pArr = posAttr.array;
            for(let i=0; i<count; i++) {
                pArr[i*3] += vel[i].x; 
                pArr[i*3+1] += vel[i].y;
                pArr[i*3+2] += vel[i].z;
                
                // Mouse Warp
                pArr[i*3] += (mouse.x * 2) * 0.5;
                pArr[i*3+1] += (mouse.y * 2) * 0.5;

                if(pArr[i*3] > 400) pArr[i*3] = -400; if(pArr[i*3] < -400) pArr[i*3] = 400;
                if(pArr[i*3+1] > 400) pArr[i*3+1] = -400; if(pArr[i*3+1] < -400) pArr[i*3+1] = 400;
            }
            posAttr.needsUpdate = true;
            starField.rotation.y = time * 0.05;

            // Artifact Animation
            raycaster.setFromCamera(mouse, camera);
            const intersects = raycaster.intersectObjects(objectsToCheck);
            const hoveredObj = intersects.length > 0 ? intersects[0].object : null;

            animatables.forEach(item => {
                // Spin the mesh (the geometry)
                item.mesh.rotation.x += item.speed;
                item.mesh.rotation.y += item.speed;

                // Bob the group (geometry + text)
                item.group.position.y += Math.sin(time * 2 + item.group.position.x) * 0.05;

                // Hover Effects
                if(item.mesh === hoveredObj) {
                    item.mesh.material.opacity = 1;
                    item.mesh.scale.lerp(new THREE.Vector3(1.2, 1.2, 1.2), 0.1);
                    document.body.style.cursor = 'pointer';
                } else {
                    item.mesh.material.opacity = 0.4;
                    item.mesh.scale.lerp(new THREE.Vector3(1, 1, 1), 0.1);
                }
            });
            if(!hoveredObj) document.body.style.cursor = 'default';

            // Camera Motion
            camera.position.lerp(targetCamPos, 0.05);
            
            // Smooth LookAt
            const currentLook = new THREE.Vector3();
            camera.getWorldDirection(currentLook);
            const targetLook = new THREE.Vector3().subVectors(lookAtTarget, camera.position).normalize();
            currentLook.lerp(targetLook, 0.05);
            camera.lookAt(camera.position.clone().add(currentLook));

            renderer.render(scene, camera);
        }

        animate();

        // UI Helpers
        window.openPanel = function(id) {
            const data = resumeContent[id];
            const body = document.getElementById('panel-body');
            body.innerHTML = `<div class="panel-header">${data.title}</div>${data.html}`;
            document.getElementById('content-panel').classList.add('active');
        };

        window.closePanel = function() {
            document.getElementById('content-panel').classList.remove('active');
            targetCamPos = new THREE.Vector3(0, 0, 110);
            lookAtTarget = new THREE.Vector3(0, 0, 0);
        };
    </script>
</body>
</html>
